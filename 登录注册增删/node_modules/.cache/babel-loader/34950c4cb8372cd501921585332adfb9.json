{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u738B\\u5C71\\\\Desktop\\\\\\u767B\\u5F55\\u6CE8\\u518C\\u589E\\u5220\\\\src\\\\components\\\\Login\\\\Login.js\";\nimport React, { Component } from 'react';\nimport Axios from 'axios';\nexport default class Login extends Component {\n  constructor() {\n    super();\n\n    this.handleUsername = e => {\n      this.setState({\n        username: e.target.value\n      });\n    };\n\n    this.handlePassword = e => {\n      this.setState({\n        password: e.target.value\n      });\n    };\n\n    this.handleKeyUp = e => {\n      if (e.keyCode === 13) {\n        Axios.post(\"/login\", this.state).then(res => {\n          if (res.data.status === 200) {\n            alert(res.data.msg);\n            this.props.history.push(\"/home\");\n          } else {\n            alert(res.data.msg);\n            this.setState({\n              username: \"\",\n              password: \"\"\n            });\n          }\n        });\n      }\n    };\n\n    this.toLogin = state => {\n      Axios.post(\"/login\", state).then(res => {\n        if (res.data.status === 200) {\n          alert(res.data.msg);\n          this.props.history.push(\"/home\"); //保存储存状态\n\n          localStorage.setItem(\"logined\", 200);\n        } else {\n          alert(res.data.msg);\n          this.setState({\n            username: \"\",\n            password: \"\"\n          });\n        }\n      });\n    };\n\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"login-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, localStorage.getItem(\"logined\") && React.createElement(Redirect, {\n      to: \"/home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"user-admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u7528\\u6237\\u540D\",\n      value: this.state.username,\n      onChange: e => {\n        this.handleUsername(e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"user-admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u5BC6\\u7801\",\n      value: this.state.password,\n      onKeyUp: e => {\n        this.handleKeyUp(e);\n      },\n      onChange: e => {\n        this.handlePassword(e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"user-admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"button\",\n      value: \"登录\",\n      onClick: () => {\n        this.toLogin(this.state);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\王山\\Desktop\\登录注册增删\\src\\components\\Login\\Login.js"],"names":["React","Component","Axios","Login","constructor","handleUsername","e","setState","username","target","value","handlePassword","password","handleKeyUp","keyCode","post","state","then","res","data","status","alert","msg","props","history","push","toLogin","localStorage","setItem","render","getItem"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport Axios from 'axios';\r\n\r\nexport default class Login extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            username:\"\",\r\n            password:\"\"\r\n        }\r\n    }\r\n    handleUsername=(e)=>{\r\n        this.setState({\r\n            username:e.target.value\r\n        })\r\n    }\r\n    handlePassword=(e)=>{\r\n        this.setState({\r\n            password:e.target.value\r\n        })\r\n    }\r\n    handleKeyUp=(e)=>{\r\n        if(e.keyCode===13){\r\n            Axios.post(\"/login\",this.state).then(res=>{\r\n                if(res.data.status===200){\r\n                    alert(res.data.msg);\r\n                    this.props.history.push(\"/home\")\r\n                }else{\r\n                    alert(res.data.msg);\r\n                    this.setState({\r\n                        username:\"\",\r\n                        password:\"\"\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n    toLogin=(state)=>{\r\n        Axios.post(\"/login\",state).then(res=>{\r\n            if(res.data.status===200){\r\n                alert(res.data.msg);\r\n                this.props.history.push(\"/home\")\r\n                //保存储存状态\r\n                localStorage.setItem(\"logined\",200)\r\n            }else{\r\n                alert(res.data.msg);\r\n                this.setState({\r\n                    username:\"\",\r\n                    password:\"\"\r\n                })\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"login-box\">\r\n                {\r\n                    localStorage.getItem(\"logined\")&&\r\n                    <Redirect to=\"/home\"></Redirect>\r\n                }\r\n                <div className=\"user-admin\">\r\n                    <input type=\"text\" placeholder=\"请输入用户名\" value={this.state.username} onChange={(e)=>{this.handleUsername(e)}}/>\r\n                </div>\r\n                <div className=\"user-admin\">\r\n                    <input type=\"text\" placeholder=\"请输入密码\" value={this.state.password} onKeyUp={(e)=>{this.handleKeyUp(e)}} onChange={(e)=>{this.handlePassword(e)}}/>\r\n                </div>\r\n                <div className=\"user-admin\">\r\n                    <input type=\"button\"  value={\"登录\"} onClick={()=>{this.toLogin(this.state)}}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}